<nav>
  <a class="sidebar-nav-item{% if page.url == site.backer %} active{% endif %}" href="{{ site.backer }}">Home</a>

  {% comment %}
  The code below dynamically generates a sidebar nav of pages with
  `layout: page` in the front-matter. See readme for usage.
  0 {% endcomment %}

  {% assign pages_list = site.pages | where:"lang", page.lang %}
  {% for node in pages_list %}
  {% if node.title != null %}
  {% if node.layout == "page" %}
  <a class="sidebar-nav-item{% if page.url == node.url %} active{% endif %}" href="{{ node.url }}">{{ node.title }}</a>
  {% endif %}
  {% endif %}
  {% endfor %}

  <a href="javascript:void(0)" onclick="changeLang()">cambia preferenza lingua</a>

  <span class="sidebar-nav-item">Currently v{{ site.version }}</span>
</nav>


<script>
  function changeLang() {
    let cookieSet = document.cookie;

    if (cookieSet == "lang=en") {
      document.cookie = "lang=en; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
      window.location.replace("{{site.baseurl}}/");
    };
    
    if (cookieSet == "lang=it") {
      document.cookie = "lang=it; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/";
      window.location.replace("{{site.baseurl}}/");
    };
  }
</script>